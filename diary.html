<!DOCTYPE HTML>
<html>
<head>
    <title>ë§¤ë§¤ì¼ì§€</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
</head>
<body class="is-preload">

    <div id="wrapper">

        <div id="main">
            <div class="inner">

                <header id="header">
                    <a href="Main.html" class="logo"><strong>www.NOGJ.com</strong></a>
                </header>

                <section>
                    <header class="major">
                        <h2>ë§¤ë§¤ì¼ì§€ ì‘ì„±/ìˆ˜ì •/ì‚­ì œ</h2>
                    </header>
                    
                    <form id="trade-form">
                        <div class="row gtr-uniform">
                            <div class="col-12">
                                <label for="date">ë‚ ì§œ</label>
                                <input type="date" id="date" required>
                            </div>
                            <div class="col-12">
                                <label for="symbol">ì¢…ëª©ëª…</label>
                                <input type="text" id="symbol" placeholder="ì˜ˆ: ì‚¼ì„±ì „ì" required>
                            </div>
                            <div class="col-12">
                                <label for="type">ë§¤ìˆ˜/ë§¤ë„</label>
                                <select id="type">
                                    <option value="Buy">ë§¤ìˆ˜</option>
                                    <option value="Sell">ë§¤ë„</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="quantity">ìˆ˜ëŸ‰</label>
                                <input type="number" id="quantity" placeholder="0" required>
                            </div>
                            <div class="col-12">
                                <label for="price">ê°€ê²©</label>
                                <input type="number" id="price" placeholder="0" step="0.01" required>
                            </div>
                            <div class="col-12">
                                <label for="memo">ë©”ëª¨</label>
                                <textarea id="memo" placeholder="ë§¤ë§¤ ê·¼ê±°, ì‹œì¥ ìƒí™© ë“±ì„ ê¸°ë¡í•˜ì„¸ìš”." rows="4"></textarea>
                            </div>
                            <div class="col-12">
                                <input type="hidden" id="editIndex">
                                <ul class="actions">
                                    <li><button type="submit" class="primary">ì €ì¥í•˜ê¸°</button></li>
                                    <li><button type="reset">ì´ˆê¸°í™”</button></li>
                                </ul>
                            </div>
                        </div>
                    </form>
                    <hr class="major" />

                    <h3>ğŸ“ ì €ì¥ëœ ë§¤ë§¤ì¼ì§€</h3>
                    <ul id="diary-list" class="alt"></ul>

                </section>

            </div>
        </div>

		<div id="sidebar">
			<div class="inner">

				<nav id="menu">
					<header class="major">
						<h2>Menu</h2>
					</header>
					<ul>
						<li><a href="Main.html">í™ˆ</a></li>
						<li><a href="Website_Introduction.html">ì†Œê°œ</a></li>
						<li>
							<span class="opener">ì£¼ì‹</span>
							<ul>
								<li><a href="stock_1.html">ì£¼ì‹ì˜ ì •ì˜</a></li>
								<li><a href="stock_2.html">ì£¼ì‹ì‹œì¥ì˜ êµ¬ì¡°</a></li>
								<li><a href="stock_3.html">ê±°ë˜ ì‹œê°„</a></li>
								<li><a href="stock_4.html">ì£¼ì‹ì˜ ë¶„ì„</a></li>
							</ul>						
						<li>
							<span class="opener">ê¸°ë³¸ì ë¶„ì„</span>
							<ul>
								<li><a href="Fundamental_1.html">íˆ¬ìì§€í‘œ</a></li>
								<li><a href="Fundamental_2.html">ì‹¤ì </a></li>
								<li><a href="Fundamental_3.html">ì¬ë¬´</a></li>
							</ul>
						<li>
							<span class="opener">ê¸°ìˆ ì ë¶„ì„</span>
							<ul>
								<li><a href="Technical_1.html">ìº”ë“¤</a></li>
								<li><a href="Technical_2.html">ê±°ë˜ëŸ‰, ê±°ë˜ëŒ€ê¸ˆ</a></li>						
								<li><a href="Technical_3.html">ì´ë™í‰ê· ì„ </a></li>
								<li><a href="Technical_4.html">ì§€ì§€ì™€ì €í•­</a></li>
							</ul>
						</li>
						<li>
							<span class="opener">ê²½ì œ ì§€í‘œ</span>
							<ul>
								<li><a href="Economic_1.html">ê¸ˆë¦¬</a></li>
								<li><a href="Economic_2.html">í™˜ìœ¨</a></li>
								<li><a href="Economic_3.html">ì§€ìˆ˜</a></li>
							</ul>
						</li>
						<li><a href="diary.html">ë§¤ë§¤ì¼ì§€</a></li>
					</ul>
				</nav>

				<section>
					<header class="major">
						<h2>Get in touch</h2>
					</header>
					<p> ê¶ê¸ˆí•œ ì ì´ ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ì—°ë½ì£¼ì„¸ìš”. </p>
					<ul class="contact">
						<li class="icon solid fa-envelope">ehddlf7130@cau.ac.kr<br> hu14776@gmail.com</li>
						<li class="icon solid fa-phone">010-4852-7130<br> 010-3278-9994</li>
						<li class="icon solid fa-home">ì¤‘ì•™ëŒ€í•™êµ ì˜ˆìˆ ê³µí•™ë¶€ í‘œì¤€ì›¹í…Œí¬ë†€ë¡œì§€<br>1ë¶„ë°˜ ì™¸í™”ë¥¼ ë²Œì–´ì˜¤ëŠ” ì˜ì›…í˜¸ê±¸íŒ€</li>
					</ul>
				</section>
			</div>
		</div>
	</div>

    <script>
      const form = document.getElementById('trade-form');
      const diaryList = document.getElementById('diary-list');

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        const date = document.getElementById('date').value;
        const symbol = document.getElementById('symbol').value;
        const type = document.getElementById('type').value;
        const quantity = document.getElementById('quantity').value;
        const price = document.getElementById('price').value;
        const memo = document.getElementById('memo').value;
        const editIndex = document.getElementById('editIndex').value;

        let entries = JSON.parse(localStorage.getItem('tradeDiary') || '[]');

        const entry = { date, symbol, type, quantity, price, memo };

        if (editIndex === '') {
          entries.push(entry);
        } else {
          entries[editIndex] = entry;
        }

        localStorage.setItem('tradeDiary', JSON.stringify(entries));

        alert(editIndex === '' ? 'ì €ì¥ ì™„ë£Œ!' : 'ìˆ˜ì • ì™„ë£Œ!');
        form.reset();
        document.getElementById('editIndex').value = '';
        displayDiary();
      });

      function displayDiary() {
        const entries = JSON.parse(localStorage.getItem('tradeDiary') || '[]');
        diaryList.innerHTML = '';

        entries.forEach((entry, index) => {
          const li = document.createElement('li');
          li.innerHTML = `
            <strong>${entry.date}</strong> | ${entry.symbol} (${entry.type}) - ${entry.quantity}ì£¼ @ ${entry.price}ì›<br>
            <p style="margin: 0.5em 0;">${entry.memo.replace(/\n/g, '<br>') || ''}</p>
            <ul class="actions">
                <li><button onclick="editEntry(${index})" class="button small">ìˆ˜ì •</button></li>
                <li><button onclick="deleteEntry(${index})" class="button small">ì‚­ì œ</button></li>
            </ul>
          `;
          diaryList.appendChild(li);
        });
      }

      function deleteEntry(index) {
        if (confirm('ì´ í•­ëª©ì„ ì‚­ì œí• ê¹Œìš”?')) {
          let entries = JSON.parse(localStorage.getItem('tradeDiary') || '[]');
          entries.splice(index, 1);
          localStorage.setItem('tradeDiary', JSON.stringify(entries));
          displayDiary();
        }
      }

      function editEntry(index) {
        const entries = JSON.parse(localStorage.getItem('tradeDiary') || '[]');
        const entry = entries[index];

        document.getElementById('date').value = entry.date;
        document.getElementById('symbol').value = entry.symbol;
        document.getElementById('type').value = entry.type;
        document.getElementById('quantity').value = entry.quantity;
        document.getElementById('price').value = entry.price;
        document.getElementById('memo').value = entry.memo;
        document.getElementById('editIndex').value = index;

        window.scrollTo(0, 0);
      }

      displayDiary();
    </script>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>